<section class="projects-section" id="projects">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Featured <span class="highlight">Projects</span></h2>
      <p class="section-subtitle">A showcase of my recent work and problem-solving approach</p>
      <div class="divider"></div>
    </div>
    
    <div class="projects-grid">
      <div class="project-card" *ngFor="let project of projects; let i = index" 
           [style.animation-delay]="(i * 0.1) + 's'">
        <div class="card-image">
          <div class="image-container">
            <img [src]="project.image" [alt]="project.title">
            <div class="image-overlay"></div>
          </div>
          <div class="card-badge">Project {{i + 1}}</div>
        </div>
        
        <div class="card-content">
          <h3 class="project-title">{{ project.title }}</h3>
          <p class="project-description">{{ project.description }}</p>
          
          <div class="tech-preview">
            <span class="tech-pill" *ngFor="let tech of project.caseStudy.technologies.slice(0, 3)">{{ tech }}</span>
            <span *ngIf="project.caseStudy.technologies.length > 3" class="tech-more">+{{project.caseStudy.technologies.length - 3}} more</span>
          </div>
          
          <div class="card-footer">
            <div class="result-preview">
              <i class="fas fa-chart-line"></i>
              <span>{{ project.caseStudy.results.split(',')[0] }}</span>
            </div>
            <div class="project-actions">
              <a [href]="project.link" target="_blank" class="project-link">
                <i class="fas fa-external-link-alt"></i> View
              </a>
              <button (click)="viewCaseStudy(project)" class="case-study-btn">
                <i class="fas fa-search"></i> Case Study
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="modal-overlay" *ngIf="selectedProject" (click)="closeCaseStudy()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2 class="modal-title">{{ selectedProject.title }}</h2>
      <button class="close-modal" (click)="closeCaseStudy()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="modal-body">
      <div class="project-hero">
        <div class="hero-image">
          <img [src]="selectedProject.image" [alt]="selectedProject.title">
        </div>
        <div class="hero-content">
          <p class="hero-description">{{ selectedProject.description }}</p>
          <a [href]="selectedProject.link" target="_blank" class="live-demo-btn">
            <i class="fas fa-rocket"></i> View Live Project
          </a>
        </div>
      </div>
      
      <div class="case-study-grid">
        <div class="case-study-card challenge">
          <div class="card-icon">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <h3>Challenge</h3>
          <p>{{ selectedProject.caseStudy.challenge }}</p>
        </div>
        
        <div class="case-study-card solution">
          <div class="card-icon">
            <i class="fas fa-lightbulb"></i>
          </div>
          <h3>Solution</h3>
          <p>{{ selectedProject.caseStudy.solution }}</p>
        </div>
        
        <div class="case-study-card results">
          <div class="card-icon">
            <i class="fas fa-trophy"></i>
          </div>
          <h3>Results</h3>
          <p>{{ selectedProject.caseStudy.results }}</p>
        </div>
        
        <div class="case-study-card technologies">
          <div class="card-icon">
            <i class="fas fa-cogs"></i>
          </div>
          <h3>Technologies</h3>
          <div class="tech-stack">
            <span class="tech-item" *ngFor="let tech of selectedProject.caseStudy.technologies">
              <i class="fas fa-check"></i> {{ tech }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>